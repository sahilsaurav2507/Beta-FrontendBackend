# =============================================================================
# Lawvriksh Production Environment Configuration Template
# =============================================================================
# Copy this file to .env.production and fill in the actual values
# Domain: lawvriksh.com
# MySQL Port: 3307 (custom)
# Backend Port: 8001 (custom)
# =============================================================================

# Domain Configuration
DOMAIN=lawvriksh.com
API_BASE_URL=https://lawvriksh.com/api
FRONTEND_URL=https://lawvriksh.com

# Database Configuration (MySQL on custom port 3307)
DB_HOST=localhost
DB_PORT=3307
DB_NAME=lawvriksh_production
DB_USER=lawvriksh_user
DB_PASSWORD=CHANGE_THIS_SECURE_PASSWORD
MYSQL_ROOT_PASSWORD=CHANGE_THIS_ROOT_PASSWORD
DATABASE_URL=mysql+pymysql://lawvriksh_user:CHANGE_THIS_SECURE_PASSWORD@localhost:3307/lawvriksh_production

# Backend Configuration (Custom port 8001)
BACKEND_HOST=localhost
BACKEND_PORT=8001

# Message Queue Configuration (RabbitMQ)
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=lawvriksh_rabbit
RABBITMQ_PASSWORD=CHANGE_THIS_RABBITMQ_PASSWORD
RABBITMQ_VHOST=lawvriksh
RABBITMQ_URL=amqp://lawvriksh_rabbit:CHANGE_THIS_RABBITMQ_PASSWORD@localhost:5672/lawvriksh

# Cache Configuration (Redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@localhost:6379/0

# Security Configuration
JWT_SECRET_KEY=CHANGE_THIS_JWT_SECRET_KEY_TO_LONG_RANDOM_STRING
SECRET_KEY=CHANGE_THIS_SECRET_KEY_TO_LONG_RANDOM_STRING

# Application Settings
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
CACHE_DIR=/opt/lawvriksh/cache

# Email Configuration (Update with your SMTP settings)
EMAIL_FROM=noreply@lawvriksh.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true
SMTP_SSL=false

# Security Headers
ALLOWED_HOSTS=lawvriksh.com,www.lawvriksh.com,localhost,127.0.0.1

# File Upload Configuration
UPLOAD_DIR=/opt/lawvriksh/uploads
MAX_UPLOAD_SIZE=10485760

# Backup Configuration
BACKUP_DIR=/opt/lawvriksh/backups
BACKUP_RETENTION_DAYS=30

# SSL Configuration
SSL_CERT_PATH=/etc/letsencrypt/live/lawvriksh.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/lawvriksh.com/privkey.pem

# Monitoring and Logging
LOG_DIR=/opt/lawvriksh/logs
ACCESS_LOG_FILE=/opt/lawvriksh/logs/access.log
ERROR_LOG_FILE=/opt/lawvriksh/logs/error.log

# Performance Settings
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65
CLIENT_MAX_BODY_SIZE=10M

# Rate Limiting
RATE_LIMIT_API=10
RATE_LIMIT_LOGIN=5
RATE_LIMIT_GENERAL=30

# Session Configuration
SESSION_TIMEOUT=3600
SESSION_SECURE=true
SESSION_HTTPONLY=true
SESSION_SAMESITE=Strict

# CORS Configuration
CORS_ORIGINS=https://lawvriksh.com,https://www.lawvriksh.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Authorization,Content-Type,Accept

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Celery Configuration
CELERY_BROKER_URL=amqp://lawvriksh_rabbit:CHANGE_THIS_RABBITMQ_PASSWORD@localhost:5672/lawvriksh
CELERY_RESULT_BACKEND=redis://:CHANGE_THIS_REDIS_PASSWORD@localhost:6379/1
CELERY_WORKER_CONCURRENCY=2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Backup Schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Monitoring URLs (optional)
SENTRY_DSN=
MONITORING_WEBHOOK=

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_ADMIN_PANEL=true

# API Versioning
API_VERSION=v1
API_PREFIX=/api

# Frontend Build Configuration
FRONTEND_BUILD_PATH=/var/www/lawvriksh.com
FRONTEND_ASSETS_PATH=/var/www/lawvriksh.com/assets

# Nginx Configuration
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024
NGINX_KEEPALIVE_TIMEOUT=65
NGINX_CLIENT_MAX_BODY_SIZE=10M

# SSL/TLS Configuration
SSL_PROTOCOLS=TLSv1.2 TLSv1.3
SSL_CIPHERS=ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384
SSL_SESSION_CACHE=shared:SSL:10m
SSL_SESSION_TIMEOUT=10m

# Security Headers Configuration
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block
REFERRER_POLICY=strict-origin-when-cross-origin

# Content Security Policy
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline' 'unsafe-eval'
CSP_STYLE_SRC='self' 'unsafe-inline'
CSP_IMG_SRC='self' data: https:
CSP_FONT_SRC='self' data:
CSP_CONNECT_SRC='self' https:
CSP_FRAME_ANCESTORS='none'
